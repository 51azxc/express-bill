<div flex class="md-padding">
  <div layout="row" layout-margin class="inset" flex layout-align="center center">
    <md-card flex-gt-sm="40" flex-sm="90">
      <form name="userForm" ng-submit="editUser()" novalidate>
        <md-card-header>
          <md-card-header-text>
            <span class="md-title">用户信息</span>
          </md-card-header-text>
        </md-card-header>
        <md-progress-linear md-mode="{{minate}}" value="{{ minateValue }}" ng-show="showLoading"></md-progress-linear>
        <md-divider></md-divider>
        <md-card-content>
          <div layout="column" flex>
            <md-input-container>
              <label>昵称</label>
              <input type="text" ng-model="user.nickname" name="nickname" required>
              <div ng-messages="!userForm.nickname.$pristine && userForm.nickname.$error" role="alert">
                <div ng-message="required">必填信息</div>
              </div>
            </md-input-container>
            <md-switch ng-model="isAvatarFile" aria-label="Switch" class="md-primary md-switch-padding">
              上传头像
            </md-switch>
            <md-input-container ng-hide="isAvatarFile">
              <!-- <img ng-src="{{ user.avatar }}" class="md-avatar" /> -->
              <label>头像链接</label>
              <input type="text" ng-model="user.avatar" name="avatar">
            </md-input-container>
            <md-input-container ng-show="isAvatarFile">
              <!-- <img class="md-avatar" ngf-src="file" ngf-resize="{width:64, height:64, quality:0.9 }" /> -->
              <div ngf-drop ngf-select ng-model="file" class="drop-box" ngf-drag-over-class="'dragover'" ngf-allow-dir="true" accept="image/*" ngf-pattern="'image/*,!.gif'" ngf-max-size="20MB">
                <div ng-show="file">{{ file.name | limitTo:10 }}</div>
                <div ng-hide="file">拖拽文件或点击上传</div>
              </div>
              <div ngf-no-file-drop>
                浏览器不支持文件拖拽上传
              </div>
            </md-input-container>
          </div>
        </md-card-content>
        <md-card-actions layout="column" layout-align="start">
          <md-button type="submit" class="md-raised md-primary" ng-disabled="userForm.$invalid || disabled">提交</md-button>
        </md-card-actions>
      </form>
    </md-card>
  </div>
</div>